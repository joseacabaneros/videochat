function AudioManagement(e,t){function n(t){e.send(JSON.stringify({section:"audio",data:{url:t}}))}var a=!1,o=document.getElementById("audioId"),i=document.getElementById("audioSource");i.onerror=function(){t.error("The URL provided is not a valid audio",{title:"Error"})},this.setMuted=function(e){a=e},this.isMuted=function(){return a},this.playAudio=function(e){n(e)},this.updateAudioUrl=function(e){a||(i.src=e,o.load(),o.play())}}function DashvideoManagement(){var e,t,n;e=document.getElementById("dashvideoId"),t=new Webm.di.WebmContext,n=new MediaPlayer(t),n.startup(),n.attachView(e),n.setAutoPlay(!0),n.attachSource(config.dashUrl)}function DrawingManagement(e){function t(t,n,a){e.send(JSON.stringify({section:"drawings",data:{operation:a,type:t,info:n}}))}var n=new fabric.Canvas("canvas");n.setHeight(350),n.setWidth(350),n.freeDrawingBrush.color="green",n.freeDrawingBrush.lineWidth=10,this.addCircle=function(){t("Circle",{radius:20,fill:"green",left:100,top:100},"add")},this.addRectangle=function(){t("Rectangle",{top:100,left:100,width:60,height:70,fill:"red"},"add")},this.addTriangle=function(){t("Triangle",{width:20,height:30,fill:"blue",left:50,top:50},"add")},this.getPencil=function(){n.isDrawingMode=!0},this.getSelection=function(){n.isDrawingMode=!1},this.clearAll=function(e,n){t("","","clearAll")},this.addObject=function(e,t){var a;"Triangle"==e?a=new fabric.Triangle(t):"Rectangle"==e?a=new fabric.Rect(t):"Circle"==e&&(a=new fabric.Circle(t)),n.add(a)},this.clearObjects=function(e,t){n.clear()}}function GeolocationManagement(e,t){function n(e){latitude=e.coords.latitude,longitude=e.coords.longitude,i==latitude&&r==longitude||(l.setDisconnected(),l.setConnected(latitude,longitude),i=latitude,r=longitude)}function a(e){t.error("Error trying to get the geolocation of the user",{title:"Error"})}function o(t,n,a,o,i){e.send(JSON.stringify({section:"geolocation",data:{operation:i,name:o,userName:a,latitude:t,longitude:n}}))}var i,r,s,c,d=[],l=this,u=new google.maps.LatLng(43.383,-5.824);"geolocation"in navigator?(s=new google.maps.Map(document.getElementById("map"),{center:u,zoom:3}),navigator.geolocation.watchPosition(n,a)):t.error("The browser is not compatible with the Geolocation HTML5 API",{title:"Error"}),this.addMarker=function(e){var t=new google.maps.Marker({position:{lat:e.latitude,lng:e.longitude},icon:"images/funchat.png",animation:google.maps.Animation.DROP,draggable:!0,map:s}),n={marker:t,userName:e.userName};d.push(n);var a=new google.maps.InfoWindow({content:e.name});t.addListener("click",function(){a.open(s,t)})},this.setUser=function(e,t){c={userName:e,name:t}},this.deleteMarker=function(e){for(var t=0;t<d.length;t++)d[t].userName==e.userName&&(d[t].marker.setMap(null),d.splice(t,1),t--)},this.setConnected=function(e,t){l.addMarker({name:c.name,userName:c.userName,latitude:e,longitude:t}),o(e,t,c.userName,c.name,"connected")},this.setDisconnected=function(){l.deleteMarker({userName:c.userName}),o("","",c.userName,c.name,"disconnected")}}function MessagesManagement(e,t){function n(t){e.send(JSON.stringify({section:"messages",data:{operation:"text",name:o.name,userName:o.userName,text:t}}))}var a={};a.loading=[!0],a.list=[];var o;this.setUser=function(e,t){o={userName:e,name:t}},this.addMessage=function(e){a.list.unshift(e)},this.setLoading=function(e){a.loading[0]=e},this.getMessages=function(){return a.list},this.isLoading=function(){return a.loading},this.sendMessage=function(e){n(e)},this.showError=function(e){t.error(e,{title:"Error"})},this.sendFile=function(t,n){var a=new FileReader;a.onloadend=function(){e.send(JSON.stringify({section:"messages",data:{operation:n,name:o.name,userName:o.userName,binary:a.result,name:t.name}}))},a.readAsDataURL(t)}}function PeopleManagement(e,t){function n(t,n,a,o,i,r){e.send(JSON.stringify({section:"people",data:{operation:r,userName:t,name:n,surname:a,email:o,state:i}}))}var a={};a.loading=[!0],a.list=[];var o;this.addPerson=function(e){a.list.push(e),o.userName!=e.userName&&t.info("User connected: "+e.name,{title:"Info"})},this.getPeople=function(){return a.list},this.deletePerson=function(e){for(var n=0;n<a.list.length;n++)a.list[n].userName==e.userName&&(t.info("User disconnected: "+e.name,{title:"Info"}),a.list.splice(n,1),n--)},this.setLoading=function(e){a.loading[0]=e},this.isLoading=function(){return a.loading},this.setConnected=function(e,t,a,i,r){o={userName:e,name:t,surname:a,email:i,state:r},this.addPerson(o),n(e,t,a,i,r,"connected")},this.setDisconnected=function(){this.deletePerson(o),n(o.userName,o.name,o.surname,o.email,o.state,"disconnected")}}function PresentationManagement(e,t){function n(e){a(e.indexh,e.indexv)}function a(t,n){e.send(JSON.stringify({section:"presentation",data:{indexh:t,indexv:n,userName:i.userName}}))}var o,i,r=document.getElementById("iframe");r.onload=function(){o=r.contentWindow.Reveal,o.addEventListener("slidechanged",n)},this.updateSlide=function(e){o.removeEventListener("slidechanged",n),o.slide(e.indexh,e.indexv),o.addEventListener("slidechanged",n)},this.setUser=function(e,t){i={userName:e,name:t}}}function PresentationMultichatManagement(e,t){function n(e){a(e.indexh,e.indexv)}function a(t,n){e.send(JSON.stringify({section:"presentationMultichat",data:{indexh:t,indexv:n,userName:i.userName}}))}var o,i,r=document.getElementById("iframeMultichat");r.onload=function(){o=r.contentWindow.Reveal,o.addEventListener("slidechanged",n)},this.updateSlide=function(e){o.removeEventListener("slidechanged",n),o.slide(e.indexh,e.indexv),o.addEventListener("slidechanged",n)},this.setUser=function(e,t){i={userName:e,name:t}}}function RadioManagement(e,t){document.getElementById("radioId");document.getElementById("radioSource").onerror=function(){t.error("The URL provided is not a valid radio",{title:"Error"})}}function StreamingManagement(e,t){document.getElementById("streamingId");document.getElementById("streamingSource").onerror=function(){t.error("The URL provided is not a valid non-adaptative streaming video",{title:"Error"})}}function VideoconferenceManagement(e,t){function n(){w.width=b.offsetWidth/2.1,w.height=b.offsetWidth/2.1,A.forEach(function(e){e.video.width=b.offsetWidth/2.1,e.video.height=b.offsetWidth/2.1})}function a(){navigator.mediaDevices.getUserMedia(v).then(o).catch(i)}function o(e){M=e,w.src=window.URL.createObjectURL(e),w.play(),w.muted=!0,m("login")}function i(e){w.setAttribute("poster","images/videoconference.png"),t.error("The videoconference is not available",{title:"Error"})}function r(){"undefined"==typeof RTCPeerConnection&&(RTCPeerConnection=webkitRTCPeerConnection);var e,e={iceServers:[{urls:"turn:numb.viagenie.ca:3478",username:"uo234549@uniovi.es",credential:"joseantonio"}]},t=new RTCPeerConnection(e);return t.addStream(M),t.onicecandidate=function(e){e.candidate&&f(e.candidate,s(t))},t.onaddstream=function(e){var a=document.createElement("VIDEO");a.src=window.URL.createObjectURL(e.stream),a.className="videoRemote",a.play(),a.muted=!1,A.push({userName:s(t),video:a}),n(),b.appendChild(a)},t}function s(e){for(var t=0;t<x.length;t++)if(x[t].connection==e)return x[t].userName}function c(e,t){var n=r();x.push({userName:t,connection:n}),n.setRemoteDescription(new RTCSessionDescription(e)),n.createAnswer(function(e){n.setLocalDescription(e),p(e,t)},function(e){console.error(e)})}function d(e,t){x.forEach(function(n){n.userName==t&&n.connection.setRemoteDescription(new RTCSessionDescription(e))})}function l(e,t){x.forEach(function(n){n.userName==t&&n.connection.addIceCandidate(new RTCIceCandidate(e))})}function u(e){for(var t=0;t<x.length;t++)x[t].userName==e&&(x[t].connection.close(),x.splice(t,1),t--);for(var t=0;t<A.length;t++)A[t].userName==e&&(b.removeChild(A[t].video),A.splice(t,1),t--)}function m(t){e.send(JSON.stringify({section:"videoconference",data:{operation:t,userName:h.userName}}))}function g(t,n){e.send(JSON.stringify({section:"videoconference",data:{operation:"offer",sourceUserName:h.userName,targetUserName:n,offer:t}}))}function p(t,n){e.send(JSON.stringify({section:"videoconference",data:{operation:"answer",sourceUserName:n,targetUserName:h.userName,answer:t}}))}function f(t,n){e.send(JSON.stringify({section:"videoconference",data:{operation:"candidate",userName:h.userName,otherUserName:n,candidate:t}}))}var h,M,v={audio:!0,video:!0},w=document.getElementById("videoconferenceLocal"),b=document.getElementById("videoconferenceArea"),N=[!0,!0],y=!1,S=!1,x=[],A=[];a(),w.onloadeddata=function(){N[1]=!1,n()},window.onresize=function(){n()},this.setUser=function(e,t){h={userName:e,name:t}},this.setMuted=function(e){y=e,M.getAudioTracks()[0].enabled=!y,A.forEach(function(t){t.video.muted=e})},this.isMuted=function(){return y},this.setDisabled=function(e){S=e,S?null!=M&&(w.pause(),M.getTracks().forEach(function(e){e.stop()}),this.setDisconnected(),t.info("The videoconference has been disabled",{title:"Info"})):(a(),t.info("The videoconference has been enabled",{title:"Info"}))},this.isDisabled=function(){return S},this.setLoading=function(e){N[0]=e},this.isLoading=function(){return N},this.getMessage=function(e){switch(e.operation){case"login":e.others.forEach(function(e){var t=r();t.createOffer(function(n){g(n,e),t.setLocalDescription(n)},function(e){console.err("Failed to create signaling message: "+e.message)}),x.push({userName:e,connection:t})});break;case"offer":c(e.offer,e.sourceUserName);break;case"answer":d(e.answer,e.targetUserName);break;case"candidate":l(e.candidate,e.userName);break;case"leave":u(e.userName)}},this.setDisconnected=function(){m("leave");for(var e=0;e<x.length;e++)x[e].connection.close(),x.splice(e,1),e--;for(var e=0;e<A.length;e++)b.removeChild(A[e].video),A.splice(e,1),e--}}function VideoManagement(e,t){function n(t){e.send(JSON.stringify({section:"video",data:{url:t}}))}var a=!1,o=document.getElementById("videoId"),i=document.getElementById("videoSource");i.onerror=function(){t.error("The URL provided is not a valid video",{title:"Error"})},this.setMuted=function(e){a=e},this.isMuted=function(){return a},this.playVideo=function(e){n(e)},this.updateVideoUrl=function(e){a||(i.src=e,o.load(),o.play())}}function VideoMultichatManagement(e,t){document.getElementById("videoMultichatId");document.getElementById("videoMultichatSource").onerror=function(){t.error("The URL provided is not a valid video",{title:"Error"})}}angular.module("multichatApp").controller("audioCtrl",["$scope","webSocketManager","$uibModal",function(e,t,n){e.muteAudioModel=t.audioManagement.isMuted(),e.changeMuteAudioModel=function(){t.audioManagement.setMuted(e.muteAudioModel)},e.showAudioModal=function(e,a,o,i){var r={selectAudio:e,url:a,accept:o,cancel:i};n.open({templateUrl:"templates/audioUrlModal.html",controller:"audioModalCtrl",resolve:{data:function(){return r}}}).result.then(function(e){t.audioManagement.playAudio(e)})}}]),angular.module("multichatApp").controller("audioModalCtrl",["$scope","$uibModalInstance","data",function(e,t,n){e.data=n,e.close=function(e){t.dismiss("cancel")},e.accept=function(n){n=e.url,t.close(n)}}]),angular.module("multichatApp").controller("drawingCtrl",["$scope","webSocketManager",function(e,t){e.addCircle=function(){t.drawingManagement.addCircle()},e.addRectangle=function(){t.drawingManagement.addRectangle()},e.addTriangle=function(){t.drawingManagement.addTriangle()},e.getPencil=function(){t.drawingManagement.getPencil()},e.getSelection=function(){t.drawingManagement.getSelection()},e.clearAll=function(){t.drawingManagement.clearAll()}}]),angular.module("multichatApp").controller("geolocationCtrl",["$scope","webSocketManager",function(e,t){var n=e.sub.split("%");t.geolocationManagement.setUser(n[0],n[1])}]),angular.module("multichatApp").controller("loginCtrl",["$scope","$http","$window","$cookies","vcRecaptchaService",function(e,t,n,a,o){function i(t){e.data.errorShow=!1,e.data.userNotValid=!1,a.put("token",t.data.token),"undefined"!=e.redirect?n.location.href=e.redirect:n.location.href="/multichat"}function r(t){401==t.status?e.data.userNotValid=!0:(e.data.error=t.statusText+" ("+t.status+")",e.data.errorShow=!0)}e.response=null,e.widgetId=null,e.model={key:"6LdYVBoUAAAAAOXzOS1UIOeRrvHZLOD7pgxOoluc"},e.setResponse=function(t){console.info("Response available"),e.response=t},e.setWidgetId=function(t){console.info("Created widget ID: %s",t),e.widgetId=t},e.cbExpiration=function(){console.info("Captcha expired. Resetting response object"),o.reload(e.widgetId),e.response=null},e.data={},e.data.errorShow=!1,e.data.userNotValid=!1,e.submit=function(e){console.log("Success"),console.log(e),t({method:"POST",url:"/api/login",data:angular.toJson(e),headers:{"Content-Type":"application/json"}}).then(i,r)}}]),angular.module("multichatApp").controller("logoutCtrl",["$cookies",function(e){e.remove("token")}]),angular.module("multichatApp").controller("messagesCtrl",["$scope","webSocketManager","$uibModal",function(e,t,n){var a=e.sub.split("%");t.messagesManagement.setUser(a[0],a[1]),e.userName=a[0],e.data={},e.data.loading=t.messagesManagement.isLoading(),e.data.messages=t.messagesManagement.getMessages(),e.comment="",e.commentSent=function(){t.messagesManagement.sendMessage(e.comment),e.comment=""},e.checkEnter=function(n){13==n.keyCode&&(t.messagesManagement.sendMessage(e.comment),e.comment="")},e.iconSent=function(t){e.comment+=t},e.showAllEmojis=function(){e.showEmojis=!e.showEmojis},e.showFileModal=function(e,a,o,i){n.open({templateUrl:"templates/messageFileModal.html",controller:"messagesFileModalCtrl"}).result.then(function(e){if("Too big"==e)t.messagesManagement.showError("The file cannot be sent because it exceeds the maximum allowed size");else switch(e.type){case"image/png":case"image/gif":case"image/jpeg":t.messagesManagement.sendFile(e,"picture");break;default:t.messagesManagement.sendFile(e,"attached")}})},e.showPictureOpenModal=function(e){var t={picture:e};n.open({templateUrl:"templates/messagePictureOpenModal.html",controller:"messagesPictureOpenModalCtrl",size:"lg",resolve:{data:function(){return t}}})}}]),angular.module("multichatApp").controller("messagesFileModalCtrl",["$scope","$uibModalInstance",function(e,t){Dropzone.autoDiscover=!1,e.dzCallbacks={addedfile:function(e){e.size<config.maxSizeAttachment?t.close(e):t.close("Too big")}}}]),angular.module("multichatApp").controller("messagesPictureOpenModalCtrl",["$scope","$uibModalInstance","data",function(e,t,n){e.data=n}]),angular.module("multichatApp").controller("peopleCtrl",["$scope","webSocketManager",function(e,t){var n=e.sub.split("%");t.peopleManagement.setConnected(n[0],n[1],n[2],n[3],n[4]),e.data={},e.data.loading=t.peopleManagement.isLoading(),e.data.people=t.peopleManagement.getPeople()}]),angular.module("multichatApp").controller("presentationCtrl",["$scope","webSocketManager",function(e,t){var n=e.sub.split("%");t.presentationManagement.setUser(n[0],n[1])}]),angular.module("multichatApp").controller("presentationMultichatCtrl",["$scope","webSocketManager",function(e,t){var n=e.sub.split("%");t.presentationMultichatManagement.setUser(n[0],n[1])}]),angular.module("multichatApp").controller("profileCtrl",["$scope","$http","$window","$cookies",function(e,t,n,a){function o(t){e.data.errorShow=!1,e.data.okShow=!0,a.put("token",t.data.token)}function i(e){a.remove("token"),n.location.href="/index"}function r(t){e.data.error=t.statusText+" ("+t.status+")",e.data.errorShow=!0,e.data.okShow=!1}e.data={},e.data.errorShow=!1,e.data.okShow=!1,e.submit=function(e){t({method:"PUT",url:"/api/profile",data:angular.toJson(e),headers:{"Content-Type":"application/json"}}).then(o,r)},e.submitDelete=function(e){t({method:"DELETE",url:"/api/delete/"+e.userName,headers:{"Content-Type":"application/json"}}).then(i,r)}}]),angular.module("multichatApp").controller("registerCtrl",["$scope","$http","$window","$cookies",function(e,t,n,a){function o(t){e.data.errorShow=!1,a.put("token",t.data.token),n.location.href="/multichat"}function i(t){e.data.error=t.statusText+" ("+t.status+")",e.data.errorShow=!0}e.data={},e.data.errorShow=!1,e.submit=function(e){t({method:"POST",url:"/api/register",data:angular.toJson(e),headers:{"Content-Type":"application/json"}}).then(o,i)}}]),angular.module("multichatApp").controller("videoconferenceCtrl",["$scope","webSocketManager",function(e,t){e.data={},e.data.loading=t.videoconferenceManagement.isLoading();var n=e.sub.split("%");t.videoconferenceManagement.setUser(n[0],n[1]),e.disableVideoconferenceModel=t.videoconferenceManagement.isDisabled(),e.changeDisableVideoconferenceModel=function(){t.videoconferenceManagement.setDisabled(e.disableVideoconferenceModel)},e.muteVideoconferenceModel=t.videoconferenceManagement.isMuted(),e.changeMuteVideoconferenceModel=function(){t.videoconferenceManagement.setMuted(e.muteVideoconferenceModel)}}]),angular.module("multichatApp").controller("videoCtrl",["$scope","webSocketManager","$uibModal",function(e,t,n){e.muteVideoModel=t.videoManagement.isMuted(),e.changeMuteVideoModel=function(){t.videoManagement.setMuted(e.muteVideoModel)},e.showVideoModal=function(e,a,o,i){var r={selectVideo:e,url:a,accept:o,cancel:i};n.open({templateUrl:"templates/videoUrlModal.html",controller:"videoModalCtrl",resolve:{data:function(){return r}}}).result.then(function(e){t.videoManagement.playVideo(e)})}}]),angular.module("multichatApp").controller("videoModalCtrl",["$scope","$uibModalInstance","data",function(e,t,n){e.data=n,e.close=function(e){t.dismiss("cancel")},e.accept=function(n){n=e.url,t.close(n)}}]),angular.module("multichatApp").service("utils",function(){function e(e){try{JSON.parse(e)}catch(e){return!1}return!0}return{isJson:e}}),angular.module("multichatApp").service("webSocketManager",["$websocket","growl","utils",function(e,t,n){window.WebSocket||(console.log("WebSockets NOT supported."),alert("Consider updating your browser for a better experience."));var a=location.origin.replace(/^http/,"ws"),o=e(a),i=new PeopleManagement(o,t),r=new MessagesManagement(o,t),s=new GeolocationManagement(o,t),c=new StreamingManagement(o,t),d=new DashvideoManagement,l=new RadioManagement(o,t),u=new VideoManagement(o,t),m=new AudioManagement(o,t),g=new VideoconferenceManagement(o,t),p=new DrawingManagement(o),f=new PresentationManagement(o,t),h=new PresentationMultichatManagement(o,t),M=new VideoMultichatManagement(o,t);return o.onOpen(function(){i.setLoading(!1),r.setLoading(!1),g.setLoading(!1),t.success("Server started. Enjoy!",{title:"Success"}),setInterval(function(){o.send("ping at "+(new Date).getUTCSeconds())},3e4)}),window.onbeforeunload=function(){s.setDisconnected(),i.setDisconnected(),g.setDisconnected(),o.close()},o.onMessage(function(e){if(n.isJson(e.data)){var t=JSON.parse(e.data);switch(t.section){case"people":"connected"==t.data.operation?i.addPerson(t.data):"disconnected"==t.data.operation&&i.deletePerson(t.data);break;case"messages":r.addMessage(t.data);break;case"video":u.updateVideoUrl(t.data.url);break;case"audio":m.updateAudioUrl(t.data.url);break;case"videoconference":g.getMessage(t.data);break;case"drawings":"add"==t.data.operation?p.addObject(t.data.type,t.data.info):"clearAll"==t.data.operation&&p.clearObjects();break;case"geolocation":"connected"==t.data.operation?s.addMarker(t.data):"disconnected"==t.data.operation&&s.deleteMarker(t.data);break;case"presentation":f.updateSlide(t.data);break;case"presentationMultichat":h.updateSlide(t.data)}}}),{ws:o,peopleManagement:i,messagesManagement:r,streamingManagement:c,dashvideoManagement:d,radioManagement:l,videoManagement:u,audioManagement:m,videoconferenceManagement:g,drawingManagement:p,geolocationManagement:s,presentationManagement:f,presentationMultichatManagement:h,videoMultichatManagement:M}}]),angular.module("multichatApp").directive("compareTo",function(){return{restrict:"A",require:"ngModel",scope:{elementToCompare:"=compareTo"},link:function(e,t,n,a){a.$validators.compareTo=function(t){return t==e.elementToCompare},e.$watch("elementToCompare",function(){a.$validate()})}}}),angular.module("multichatApp").directive("userNameAvailable",["$http","$q",function(e,t){return{restrict:"A",require:"ngModel",link:function(n,a,o,i){i.$asyncValidators.userNameAvailable=function(a){function o(e){n.data.errorShow=!1,e.data.length>0?(i.$setValidity("userNameAvailable",!1),s.reject("Username has already been taken")):(i.$setValidity("userNameAvailable",!0),s.resolve())}function r(e){n.data.error=e.statusText+" ("+e.status+")",n.data.errorShow=!0,i.$setValidity("userNameAvailable",!1),s.reject("An error has been occurred")}var s=t.defer();return e.get("api/users/"+a,{headers:{"Content-Type":"application/json"}}).then(o,r),s.promise}}}}]),angular.module("multichatApp").filter("emojis",["$sce",function(e){return function(t){var n=t.replace(/ /g,"&nbsp;");return n=n.replace(/\n/g,"<br>"),n=n.replace(/:D/g,'<img src="images/emojis/smiley-01.png" width="20px" height="20px">'),n=n.replace(/:\)/g,'<img src="images/emojis/smiley-05.png" width="20px" height="20px">'),n=n.replace(/;\)/g,'<img src="images/emojis/smiley-06.png" width="20px" height="20px">'),n=n.replace(/:x/g,'<img src="images/emojis/smiley-07.png" width="20px" height="20px">'),n=n.replace(/:\*/g,'<img src="images/emojis/smiley-08.png" width="20px" height="20px">'),n=n.replace(/;-\)/g,'<img src="images/emojis/smiley-12.png" width="20px" height="20px">'),n=n.replace(/:-P/g,'<img src="images/emojis/smiley-14.png" width="20px" height="20px">'),n=n.replace(/:S/g,'<img src="images/emojis/smiley-15.png" width="20px" height="20px">'),n=n.replace(/:\(/g,'<img src="images/emojis/smiley-17.png" width="20px" height="20px">'),n=n.replace(/:o\)/g,'<img src="images/emojis/smiley-18.png" width="20px" height="20px">'),n=n.replace(/%\)/g,'<img src="images/emojis/smiley-19.png" width="20px" height="20px">'),n=n.replace(/:'\(/g,'<img src="images/emojis/smiley-22.png" width="20px" height="20px">'),n=n.replace(/:'\)/g,'<img src="images/emojis/smiley-23.png" width="20px" height="20px">'),n=n.replace(/D=%/g,'<img src="images/emojis/smiley-32.png" width="20px" height="20px">'),n=n.replace(/D:%/g,'<img src="images/emojis/smiley-33.png" width="20px" height="20px">'),n=n.replace(/:\[/g,'<img src="images/emojis/smiley-35.png" width="20px" height="20px">'),n=n.replace(/\|O\)/g,'<img src="images/emojis/smiley-41.png" width="20px" height="20px">'),n=n.replace(/:-C/g,'<img src="images/emojis/orte-59.png" width="20px" height="20px">'),n=n.replace(/:-L/g,'<img src="images/emojis/orte-15.png" width="20px" height="20px">'),n=n.replace(/:-K/g,'<img src="images/emojis/natur-09.png" width="20px" height="20px">'),e.trustAsHtml(n)}}]),angular.module("multichatApp").filter("pictures",["$sce",function(e){return function(t){var n='<img src="'+t.binary+'" width="50px" height="50px">';return n+="<p>"+t.name+"</p>",e.trustAsHtml(n)}}]),angular.module("multichatApp").config(["growlProvider",function(e){e.globalPosition("bottom-right"),e.globalTimeToLive(2e3)}]),angular.module("multichatApp").config(["dropzoneOpsProvider",function(e){e.setOptions({url:"/",dictDefaultMessage:"Drop your picture or your file to be attached. You can also click here to open the File dialog"})}]),angular.module("multichatApp").config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(/^\s*(data):/)}]);